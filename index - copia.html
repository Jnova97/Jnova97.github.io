<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <title>Vue.js proyect</title>
</head>

<body>
    <div id="app">

        <div class="row" v-if="!    estado">
            <div class="card-panel">
                <div class="row">
                    <div v-for="item in arrayheroes">
                        <div class="col l3 m4 s6 ">
                            <div class="card-panel" style="height: 600px;">
                                <center><img @click="ver_modal(item)" :src="item.image.url" class="responsive-img">
                                </center>

                                <h4 class="center"><b>{{item.name}}</b></h4>
                                <h5 class="center"><i>{{item.biography['full-name']}}</i></h5>
                                <center><i>{{item.biography.publisher}}</i></center>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-panel" v-if="arrayheroes=[]">
            <div class="progress">
                <div class="indeterminate">
                </div>
            </div>
        </div>


        <div id="popup" class="modal">
            <div v-if="hero != null">
                <div class="modal-content">
                    <!--      <center> <img :src="" class="circle "> </center>-->
                    <h4></h4>
                    <p>A bunch of text</p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>



    <script>
        new Vue({
            el: '#app',
            data: {
                estado: true,
                hero: null,
                api: 'https://www.superheroapi.com/api.php/1052603298409190/',
                arrayheroes: [],
                //url: 'https://randomuser.me/api/?results=5'
            },
            methods: {
                async cargar() {
                    for (var i = 1; i <= 6; i++) {
                        var resultado = await axios.get(this.api + i);
                        this.arrayheroes.push(resultado.data);
                        console.log(resultado.data);
                        console.log(this.api + i);
                    };
                    console.log(this.arrayheroes);
                    this.estado = false;
                },

                ver_modal(item) {
                    this.hero = item;
                    var instance = M.Modal.getInstance(document.getElementById('popup'));
                    instance.open();
                }

            },
            created() {
                this.cargar();
            },
            mounted() {
                document.addEventListener('DOMContentLoaded', function () {
                    var elems = document.querySelectorAll('.modal');
                    var instances = M.Modal.init(elems);
                });
            }
        });

    </script>

</body>

</html>